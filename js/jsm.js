(function(a){var d={init:function(b){var c=a(this);a.extend({},b);c.addClass("jsm-popup");0===a("div.jsm-cover").length&&a(document.body).append(a(document.createElement("div")).addClass("jsm-cover"));a("html:first").is(".jsm-ready")||a("html:first").addClass("jsm-ready")},open:function(){var b=a(this),c=a.Event({type:"jsm:open",elm:this});b.trigger(c);c.isDefaultPrevented()||(a("html:first").addClass("jsm-active"),b.addClass("jsm-popup-animate"),a(window).bind("keydown",d.ifClose))},ifClose:function(b){void 0!==
b.keyCode&&27===b.keyCode&&a(".jsm-popup-animate").jsm("close")},ifBlurClose:function(){a(".jsm-popup-animate").jsm("close")},close:function(){a(window).unbind("keydown",d.ifClose);var b=a(this),c=a.Event({type:"jsm:close",elm:this});b.trigger(c);c.isDefaultPrevented()||(a("html:first").removeClass("jsm-active"),b.removeClass("jsm-popup-animate"))},destroy:function(){var b=a(this),c=a.Event({type:"jsm:destroy",elm:this});b.trigger(c);c.isDefaultPrevented()||(0!==a("div.jsm-cover").length&&a("div.jsm-cover").remove(),
a("html:first").is(".jsm-ready")&&a("html:first").removeClass("jsm-ready"),b.removeClass("jsm-popup"))}};d.show=d.open;a.fn.jsm=function(b){"string"===typeof b&&(b={method:b});"object"===typeof b&&(b=a.extend({method:"init"},b),d[b.method]?d[b.method].apply(this,b):a.error(".jsm('"+b.method+"'): action invalid."));return this}})(window.jQuery);
